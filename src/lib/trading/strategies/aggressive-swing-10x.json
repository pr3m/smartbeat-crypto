{
  "meta": {
    "name": "AGGRESSIVE_SWING_10X",
    "type": "swing",
    "description": "Aggressive 10x swing strategy with momentum exhaustion DCA. No stops, 48h timebox, max 3 DCAs.",
    "version": "2.2.0",
    "pair": "XRP/EUR",
    "author": "SmartBeat Trader"
  },

  "timeframeWeights": {
    "1d": 5,
    "4h": 10,
    "1h": 30,
    "15m": 42,
    "5m": 13
  },

  "signals": {
    "actionThreshold": 63,
    "directionLeadThreshold": 12,
    "sitOnHandsThreshold": 48,
    "macdDeadZone": 0.00020,
    "maintainThresholdGap": 8,

    "directionWeights": {
      "1dTrend": 4,
      "4hTrend": 10,
      "1hSetup": 26,
      "15mEntry": 38,
      "volume": 16,
      "btcAlign": 8,
      "macdMom": 6,
      "flow": 4,
      "liq": 6,
      "candlestick": 4,
      "reversal": 10,
      "marketStructure": 8,
      "keyLevelProximity": 8,
      "rejection": 12
    },

    "gradeThresholds": {
      "A": 80,
      "B": 65,
      "C": 50,
      "D": 35
    }
  },

  "spike": {
    "volumeRatioThreshold": 2.5,
    "oversoldRSI": 20,
    "overboughtRSI": 80
  },

  "positionSizing": {
    "leverage": 10,
    "fullEntryMarginPercent": 20,
    "cautiousEntryMarginPercent": 10,
    "minEntryConfidence": 65,
    "fullEntryConfidence": 80,
    "maxDCACount": 3,
    "dcaMarginPercent": 15,
    "maxTotalMarginPercent": 80,
    "minFreeMarginPercent": 20
  },

  "dca": {
    "minDrawdownForDCA": 4,
    "minTimeBetweenDCAsMs": 7200000,
    "minExhaustionConfidence": 60,
    "dcaSizeScaleFactor": 1.0,
    "allowDCAAfterMidpoint": true,

    "exhaustionThresholds": {
      "rsiOversold": 30,
      "rsiOverbought": 70,

      "volumeDecline5m": 0.8,
      "volumeFading5m": 0.6,
      "volumeDecline15m": 1.0,

      "macdNearZero": 0.0005,
      "macdSignalProximity": 0.0002,

      "bbMiddleLow": 0.25,
      "bbMiddleHigh": 0.75,

      "priceStabilizingLookback": 8,
      "priceStabilizingMinMatches": 4,

      "minHoursBetweenByLevel": {
        "1": 1,
        "2": 2,
        "3": 4
      }
    }
  },

  "exit": {
    "exitPressureThreshold": 60,
    "minConditionFlips": 3,
    "allowPartialExits": true,
    "minProfitForExit": 50
  },

  "antiGreed": {
    "enabled": true,
    "drawdownThresholdPercent": 50,
    "minPnLToActivate": 80,
    "minHWMToTrack": 100
  },

  "timebox": {
    "maxHours": 48,
    "escalationStartHours": 24,
    "pressureCurve": "step",
    "steps": [
      { "hours": 0, "pressure": 0, "label": "Fresh entry" },
      { "hours": 12, "pressure": 10, "label": "Monitoring" },
      { "hours": 24, "pressure": 25, "label": "Midpoint - reassess" },
      { "hours": 36, "pressure": 50, "label": "Late stage - look for exit" },
      { "hours": 42, "pressure": 75, "label": "Closing soon - exit on any bounce" },
      { "hours": 48, "pressure": 100, "label": "Timebox expired - exit now" }
    ]
  },

  "liquidation": {
    "magnetProximityPct": 2.0,
    "magnetMinStrength": 0.3,
    "wallProximityPct": 5.0,
    "wallMinDensity": 0.5,
    "wallMinStrength": 0.6,
    "densityNormFactor": 20,
    "strongAsymmetryThreshold": 1.5,
    "directionWeight": 6,
    "scoring": {
      "magnetAligned": 15,
      "magnetOpposing": -10,
      "wallSupport": 8,
      "wallBlock": -8,
      "asymmetryAligned": 10,
      "asymmetryOpposing": -5,
      "fundingConfirm": 5,
      "proximityBonus": 5
    }
  },

  "regime": {
    "strongTrendADX": 35,
    "trendingADX": 20,
    "lowVolBBWidth": 0.8,
    "highVolBBWidth": 2.5,
    "rangingActionThreshold": 72,
    "strongTrendActionThreshold": 55,
    "trendingActionThreshold": 63,
    "strongTrendMaxHours": 72,
    "trendingMaxHours": 48,
    "rangingMaxHours": 36,
    "strongTrendTimeboxWeight": 0.05,
    "trendingTimeboxWeight": 0.10,
    "rangingTimeboxWeight": 0.20
  },

  "keyLevels": {
    "nearProximityPct": 1.0,
    "strongProximityPct": 0.5,
    "minTouches": 2,
    "minStrength": "moderate",
    "rrMinRatio": 1.3,
    "rrWarningRatio": 0.8,
    "reversalAtLevelMultiplier": 1.35,
    "reversalAtLevelProximityPct": 1.0
  },

  "fibonacci": {
    "enabled": true,
    "ratios": [0.382, 0.5, 0.618],
    "extensions": [1.272, 1.618],
    "timeframes": [60, 240],
    "minSwingRangeATRMultiple": 1.5,
    "regimeMultipliers": {
      "strong_trend": 1.0,
      "trending": 1.0,
      "ranging": 0.5,
      "low_volatility": 0.3
    }
  },

  "session": {
    "enabled": true,
    "asiaDiscount": -5,
    "transitionDiscount": -3,
    "weekendDiscount": -8,
    "overlapBonus": 6
  },

  "spreadGuard": {
    "enabled": true,
    "warnMultiplier": 1.5,
    "blockMultiplier": 3.0,
    "blockPenalty": -15,
    "warnPenalty": -5
  },

  "rejection": {
    "enabled": true,
    "proximityPct": 1.0,
    "minVolumeRatio": 1.2,
    "minCandleStrength": 0.3,
    "minMacdHistMagnitude": 0.00005,
    "requireMacdAlignment": true,
    "minLevelStrength": "moderate",
    "minLevelTouches": 2,
    "reversalConfluenceBonus": 1.2
  },

  "btcAlignment": {
    "timeframes": [60, 15],
    "emaPeriod": 21,
    "slopeCandles": 10,
    "neutralZonePct": 0.12,
    "weights": [0.7, 0.3]
  },

  "derivatives": {
    "oiRisingThresholdPct": 5,
    "oiFallingThresholdPct": -5,
    "fundingExtremeThreshold": 0.01
  },

  "risk": {
    "useStopLoss": false,
    "useFixedTP": false,
    "acceptLiquidation": true
  },

  "aiInstructions": {
    "personality": "Direct, data-driven, no hand-holding. Speak like a trading desk analyst. Use numbers, not feelings. If the data says exit, say exit. If the setup is garbage, say so.",
    "corePhilosophy": [
      "NO stop losses ever - the 48h timebox IS the risk management",
      "NO fixed take-profit levels - exits are condition-based via exit pressure system",
      "Accept liquidation as a possible outcome - this is by design with 10x leverage",
      "DCA is triggered by momentum exhaustion signals, NOT fixed percentage drops",
      "Maximum 3 DCA entries, each requiring 3+ of 5 exhaustion signals",
      "Strategy NEVER exits at a loss - hold or get liquidated",
      "Timeframe weights: 1D=5%, 4H=10%, 1H=30%, 15m=42%, 5m=13% - 15m is primary decision maker, 1H confirms setup, 5m for volume spikes and candlestick patterns, HTF is advisory context only",
      "Entry requires 63+ action threshold with 12+ direction lead"
    ],
    "dcaGuidance": "DCA is NOT about price dropping X%. It's about momentum exhaustion. The 5 signals are: (1) RSI divergence/extreme on 15m, (2) Volume drying up on 5m/15m, (3) MACD histogram contracting toward zero, (4) BB position returning to middle (volatility calming), (5) Price stabilizing (higher lows for long DCA, lower highs for short DCA). Need 3+ signals active + minimum drawdown of 4% + minimum time between DCAs.",
    "exitGuidance": "Exits are PROFIT-SEEKING, not time-driven. Market regime (ADX + BB width) adjusts timebox dynamically: strong trends get 72h, ranging markets get 36h. Timebox is a backstop (weight 0.05-0.20), not the driver. Nine pressure sources: timebox (regime-aware), RSI exhaustion, MACD reversal, volume dry-up, momentum fading, trend reversal, anti-greed, candlestick reversal, and knife detection. Profitable trades get higher exit thresholds (+20% P&L needs 70 pressure, +10% needs 65). Knife impulse/capitulation against position triggers immediate exit pressure. Exit is NEVER recommended when P&L is negative.",
    "responseRules": [
      "Always reference actual strategy parameters, never guess thresholds",
      "When asked about DCA, call get_v2_engine_state to check momentum exhaustion signals",
      "When asked about exit, call get_v2_engine_state to check exit pressure breakdown",
      "Never suggest stop losses, trailing stops, or fixed take-profit levels",
      "Never suggest exiting at a loss - the strategy accepts liquidation over realized losses",
      "Reference timebox status when discussing position timing",
      "Use strategy grades: A(80+), B(65-79), C(50-64), D(35-49), F(<35)",
      "Format EUR amounts as â‚¬X,XXX.XX"
    ]
  }
}
